---
title: 小部件语义
slug: /library/advanced-features/widget-semantics
---

# 关于小部件行为的高级说明

小部件是神奇的，通常按照您的预期工作。但在某些情况下，它们可能会有一些令人惊讶的行为。下面是关于小部件行为的高级、抽象描述，包括一些常见的边界情况：

1. 如果在小部件状态不存在之前调用小部件函数，则小部件状态会默认为一个值。该值取决于小部件及其参数。
2.小部件函数调用返回当前小部件状态值。返回值是一个简单的Python类型，具体类型取决于小部件及其参数。
3.小部件状态取决于特定的会话（浏览器连接）。一个用户的操作不会影响到其他用户的小部件。
4.小部件的标识取决于传递给小部件函数的参数。如果参数发生变化，调用将创建一个新的小部件（默认值为1）。
5. 如果在脚本运行中没有调用小部件函数，我们既不会存储小部件状态，也不会渲染小部件。如果您以后使用相同的参数调用小部件函数，Streamlit将把它视为新的小部件。

4和5最有可能令人惊讶，并且可能对一些应用程序设计造成问题。当您希望保留小部件状态以便重新创建小部件时，请使用[Session State](/library/api-reference/session-state)来解决5的问题。
